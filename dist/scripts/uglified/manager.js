"use strict";var SatakuManager=function(){var e={element:null,onAction:null,captureMode:null,eventClickType:"",isDisplayMode:null,isMobileDevice:null,preventDefault:!1,handler:{click:function(t){e.preventDefault||e.onAction&&e.onAction(t)},touchstart:function(t){e.preventDefault=(t.touches||t.targetTouches).length>1},touchmove:function(t){e.preventDefault=!0},mouseenter:function(e){document.body.stkAddClass("active")},mouseleave:function(e){document.body.stkRemoveClass("active")}}},t={kill:function(){e.element.stkStopListening(e.eventClickType,e.handler.click,e.captureMode),e.element.stkStopListening("mouseenter",e.handler.mouseover,e.captureMode),e.element.stkStopListening("mouseleave",e.handler.mouseover,e.captureMode),e.isMobileDevice&&e.isDisplayMode&&(e.element.stkStopListening("touchstart",e.handler.touchstart,e.captureMode),e.element.stkStopListening("touchmove",e.handler.touchmove,e.captureMode))},newAction:function(t){e.onAction=t}};return function(n,o,c){return SatakuManager=null,e.stkExt({onAction:c,isDisplayMode:n.place===RUN_MODE_DISPLAY,isMobileDevice:n.deviceType===DEVICE_TYPE_MOBILE,eventClickType:n.deviceType===DEVICE_TYPE_DESKTOP?"click":"touchend",captureMode:!!stkBrowserSupportsPassiveEvents&&{passive:!0},element:n.place===RUN_MODE_DISPLAY?document:o.closeExpand}),window.focus(),e.element.stkListen(e.eventClickType,e.handler.click,e.captureMode),e.isMobileDevice&&e.isDisplayMode&&(e.element.stkListen("touchstart",e.handler.touchstart,e.captureMode),e.element.stkListen("touchmove",e.handler.touchmove,e.captureMode)),e.element.stkListen("mouseenter",e.handler.mouseenter,e.captureMode),e.element.stkListen("mouseleave",e.handler.mouseleave,e.captureMode),t}}();