"use strict";var ARE_SOCIALS_ACTIVE=!1,notStatic=window.satakuBrowserDetect(),Sataku=function(){var e={player:null,players:[],counter:null,manager:null,tracking:null,messenger:null,supervisor:null,doc:{teaser:["#teaser",!1],expand:["#expand",!1],display:["#display",!1],closeExpand:["#close-expand",!1],teaserCover:["#teaser-cover",!1],videoWrapper:["#video-wrapper",!1],rvEndboard:["#rv-endboard",!1],rvReplay:["#rv-replay",!1],playerWrapper:[".player-wrapper",!1],playerWrappers:[".player-wrapper",!0],teaserWrapper:["#teaser-wrapper",!1],counterWrapper:["#counter-wrapper",!1],displayContent:["#display-content",!1],expandWorkspace:["#expand-workspace",!1]},debug:new SatakuLogger({log:{frameReady:["Welcome in %s %s @product:%s",SatakuLogger.prototype.stylesheet.global]},logPreview:{displayVersion:["[Display version] id: %s redirect: %s name: %s",SatakuLogger.prototype.stylesheet.global],trackingConfig:["Pixel data: %O",SatakuLogger.prototype.stylesheet.global]},error:{scrollNoConfig:["[Scroll] No config given for display version id: %s",SatakuLogger.prototype.stylesheet.error],motionNoConfig:["[Motion] No config given for display version id: %s",SatakuLogger.prototype.stylesheet.error]}}),setDependencies:function(){Sataku.invoke=null,i.invoke=null;var n=1;window.SATAKU_MODE=satakuParams.mode||MODE_PRODUCTION,window.DEBUG_MODE=SATAKU_MODE==MODE_DEVELOPER,i.config.stkExt(satakuParams).stkExt({creationType:CREATION_TYPE,isIphone:i.config.deviceType!==DEVICE_TYPE_DESKTOP&&stkIsIphone()}),window.satakuParams=null;for(var a in e.doc)e.doc[a]=document.stkQuery(e.doc[a][0],e.doc[a][1]);e.setDisplayVersion(),e.debug.logPreview("displayVersion",i.config.displayVersion.id,i.config.displayVersion.redirect,i.config.displayVersion.name),i.config.displayVersion&&i.config.displayVersion.redirect&&(n=i.config.displayVersion.redirect),-1!==PRODUCT_TYPES_BY_DEVICE.mobile.indexOf(i.config.creationType)?i.config.place===RUN_MODE_DISPLAY?e.doc.display.classList.add("mobile-creation"):i.config.place===RUN_MODE_EXPAND&&e.doc.expand.classList.add("mobile-creation"):-1!==PRODUCT_TYPES_BY_DEVICE.desktop.indexOf(i.config.creationType)&&(i.config.place===RUN_MODE_DISPLAY?e.doc.display.classList.add("desktop-creation"):i.config.place===RUN_MODE_EXPAND&&e.doc.expand.classList.add("desktop-creation")),e.tracking=SatakuTracking(i.config),e.pixelHelper=SatakuPixelHelper({firstInteraction:window.STK_PIXEL_HELPER_CONFIG.firstInteraction,custom:window.STK_PIXEL_HELPER_CONFIG.custom,trackly:window.STK_PIXEL_HELPER_CONFIG.trackly,smart:window.STK_PIXEL_HELPER_CONFIG.smart},e.tracking),e.dwell=SatakuDwell(i.config,e.tracking),e.messenger=SatakuMessenger(i.config),e.supervisor=SatakuSupervisor(i.config),e.manager=SatakuManager(i.config,e.doc,e.clickAction),-1!==window.STK_CREATION_TYPES_WITHOUT_COUNTER.indexOf(i.config.creationType)||-1!==PRODUCT_TYPES_BY_DEVICE.mobile.indexOf(i.config.creationType)&&i.config.deviceType===DEVICE_TYPE_DESKTOP||(e.counter=SatakuCounter(i.config,{id:1,wrapper:e.doc.counterWrapper,onActionHandler:e.clickAction,area:i.config.creationType===CREATION_TYPE_VIDEO_DISPLAY_STANDARD_REDIRECT?e.doc.videoWrapper:document.body,static:-1!==PRODUCT_TYPES_BY_DEVICE.mobile.indexOf(i.config.creationType)}.stkExt(window.STK_COUNTER_STYLE_CONFIG)));var o={};-1!==[CREATION_TYPE_REAL_VIEW,CREATION_TYPE_MOBILE_REAL_VIEW,CREATION_TYPE_FULL_REAL_VIEW,CREATION_TYPE_MOBILE_FULL_REAL_VIEW].indexOf(i.config.creationType)&&i.config.place===RUN_MODE_DISPLAY&&(o={shouldAutoplay:!1,hasControls:!1,hasReplay:!1,guiAction:"toggleSound",guiAlwaysVisible:!0}),-1!==[CREATION_TYPE_VIDEO_LOOP,CREATION_TYPE_MOBILE_VIDEO_LOOP].indexOf(i.config.creationType)&&(o={shouldAutoplay:!0,hasControls:!1,hasReplay:!1,guiAction:"none",guiAlwaysVisible:!0,isTrackingEnabled:!1,looped:!0}),e.player=new SatakuPlayer(i.config,{anchorURL:"{redirect_"+n+"}",wrapper:e.doc.playerWrapper,sourceURL:"media/video/expand/spot.mp4?version=0.0",posterURL:"media/video/expand/poster.jpg?version=0.0",endboardURL:"media/video/expand/endboard.jpg?version=0.0",isRunModeDisplay:i.config.place===RUN_MODE_DISPLAY,version:1}.stkExt(o),e.tracking),e.players.push(e.player),[CREATION_TYPE_SARIGATO_IFRAME,CREATION_TYPE_MOBILE_SARIGATO_IFRAME].indexOf(CREATION_TYPE)>-1&&(e.iframeBuilder=new SatakuIframeBuilder(i.config,e.doc,{wrapper:e.doc.displayContent,src:"media/display/"+i.config.format+"/index.html?version=0.0"}))},setDisplayVersion:function(){i.config.place===RUN_MODE_DISPLAY?i.config.displayVersion=window.stkDrawDisplayVersion(i.config.format,STK_DISPLAY_VERSION_CONFIG):i.config.place===RUN_MODE_EXPAND&&i.config.SAS&&i.config.SAS.requestData&&i.config.SAS.requestData.dataFromDisplay&&i.config.SAS.requestData.dataFromDisplay.displayVersion&&(i.config.displayVersion=i.config.SAS.requestData.dataFromDisplay.displayVersion),i.config.place===RUN_MODE_DISPLAY?e.doc.display.classList.add("display-"+i.config.displayVersion.name):i.config.place===RUN_MODE_EXPAND&&e.doc.expand.classList.add("display-"+i.config.displayVersion.name)},setupAndRun:function(){if(i.config.place===RUN_MODE_DISPLAY&&-1!==[CREATION_TYPE_VIDEO_DISPLAY_STANDARD,CREATION_TYPE_VIDEO_DISPLAY_STANDARD_REDIRECT,CREATION_TYPE_REAL_VIEW,CREATION_TYPE_MOBILE_REAL_VIEW,CREATION_TYPE_FULL_REAL_VIEW,CREATION_TYPE_MOBILE_FULL_REAL_VIEW,CREATION_TYPE_MOBILE_VIDEO_INTERACTIVE,CREATION_TYPE_MOBILE_VIDEO,CREATION_TYPE_VIDEO_LOOP,CREATION_TYPE_MOBILE_VIDEO_LOOP].indexOf(i.config.creationType)||i.config.place===RUN_MODE_EXPAND&&-1!==[CREATION_TYPE_EXPAND_VIDEO,CREATION_TYPE_EXPAND_PREMIUM,CREATION_TYPE_MOBILE_EXPAND_VIDEO,CREATION_TYPE_MOBILE_EXPAND_PREMIUM].indexOf(i.config.creationType))e.players.forEach(function(e,i){e.initialize()}),i.config.place===RUN_MODE_DISPLAY&&(-1!==[CREATION_TYPE_VIDEO_LOOP,CREATION_TYPE_MOBILE_VIDEO_LOOP].indexOf(i.config.creationType)?(e.doc.playerWrapper.stkAddClass("no-progressbar"),e.player.setVideo(),e.player.mute(),e.player.start()):e.doc.playerWrapper.stkAddClass("disabled"),-1!==[CREATION_TYPE_VIDEO_DISPLAY_STANDARD,CREATION_TYPE_VIDEO_DISPLAY_STANDARD_REDIRECT].indexOf(i.config.creationType)&&e.doc.display.stkAddClass("video-display-standard"),[CREATION_TYPE_REAL_VIEW,CREATION_TYPE_FULL_REAL_VIEW,CREATION_TYPE_MOBILE_REAL_VIEW,CREATION_TYPE_MOBILE_FULL_REAL_VIEW].indexOf(CREATION_TYPE)>-1&&([CREATION_TYPE_FULL_REAL_VIEW,CREATION_TYPE_MOBILE_FULL_REAL_VIEW].indexOf(CREATION_TYPE)>-1&&(i.config.rvDoNotPauseVideoOnViewOut=!0),window.STK_REAL_VIEW_WITH_REPLAY&&e.doc.display.classList.add("endboard-with-replay"),notStatic&&(window.enableLoaderFeature("rv"),e.player.mute(),e.player.view.gui.resume.style.display="none",e.rvInit(i,e))));else for(var n=0;n<e.doc.playerWrappers.length;n++)e.doc.playerWrappers[n].remove();[CREATION_TYPE_SCROLL,CREATION_TYPE_MOBILE_SCROLL].indexOf(CREATION_TYPE)>-1&&function(){if(notStatic){var n=1;i.config.displayVersion&&(n=i.config.displayVersion.id);var a=STK_SCROLL_CAMPAIGN_DATA["format_"+i.config.format]["displayVersion_"+n];if(void 0===a)return void e.debug.error("scrollNoConfig",n);e.messenger.sendMsg("setBannerFixedBackground",a)}}(),-1!==[CREATION_TYPE_MOTION,CREATION_TYPE_MOBILE_MOTION].indexOf(i.config.creationType)&&notStatic&&e.motionInit(),[CREATION_TYPE_SARIGATO_IFRAME,CREATION_TYPE_MOBILE_SARIGATO_IFRAME].indexOf(CREATION_TYPE)>-1&&e.iframeBuilder&&e.iframeBuilder.init(),window.satakuAntiBot(),window.stkShouldStartTeaserManually&&window.stkStartTeaserManually(),Sataku[i.config.runModeAlias](i,e,notStatic)},sendInfoToLoader:function(){i.config.runMode==RUN_MODE_DISPLAY&&e.messenger.sendMsg("campaignData",{creation:{creationType:i.config.creationType,expanded:e.supervisor.isExpandable}})},clickAction:function(n,a,o){var r=1;if(i.config.displayVersion&&i.config.displayVersion.redirect&&(r=i.config.displayVersion.redirect),notStatic){if(i.config.runMode===RUN_MODE_DISPLAY&&e.counter&&e.counter.reset(),e.supervisor.isExpandable)if(i.config.place===RUN_MODE_DISPLAY){var t={};i.config.displayVersion&&(t.displayVersion=i.config.displayVersion),e.messenger.sendMsg("openExpand",{dataFromDisplay:t}),e.tracking.displayClick(),e.doc.display.style.pointerEvents="none",setTimeout(function(){e.doc.display.style.pointerEvents="all"},1e3)}else i.config.place===RUN_MODE_EXPAND&&Sataku.expandOutro(function(){e.messenger.sendMsg("closeExpand")});[CREATION_TYPE_REAL_VIEW,CREATION_TYPE_MOBILE_REAL_VIEW,CREATION_TYPE_FULL_REAL_VIEW,CREATION_TYPE_MOBILE_FULL_REAL_VIEW].indexOf(CREATION_TYPE)>-1&&n&&(n.target===e.doc.displayContent?i.config.rvVideoEnded?stkOpenWindow(e.tracking.redirect.lp[r],"_blank",function(){e.tracking.displayClick()}):e.player.isMuted()?e.player.unmute():e.player.mute():n.target===e.doc.rvEndboard?stkOpenWindow(e.tracking.redirect.lp[r],"_blank",function(){e.tracking.displayClick()}):n.target===e.doc.rvReplay&&(e.player.setVideo(),e.player.start(),e.player.view.endboard.wrapper.stkRemoveClass("active"),e.doc.display.classList.remove("endboard-active"))),-1!==[CREATION_TYPE_VIDEO_DISPLAY_STANDARD,CREATION_TYPE_VIDEO_DISPLAY_STANDARD_REDIRECT,CREATION_TYPE_MOBILE_VIDEO,CREATION_TYPE_MOBILE_VIDEO_INTERACTIVE].indexOf(i.config.creationType)&&(i.config.creationType===CREATION_TYPE_VIDEO_DISPLAY_STANDARD_REDIRECT&&n&&n.target===e.doc.displayContent?stkOpenWindow(e.tracking.redirect.lp[r],"_blank",function(){e.tracking.displayClick()}):(e.tracking.displayClick(),e.counter&&e.counter.kill(),e.manager.newAction(function(n,a){-1!==[CREATION_TYPE_VIDEO_DISPLAY_STANDARD,CREATION_TYPE_VIDEO_DISPLAY_STANDARD_REDIRECT].indexOf(i.config.creationType)&&n&&n.target===e.doc.displayContent?stkOpenWindow(e.tracking.redirect.lp[r],"_blank",function(){e.tracking.displayClick()}):-1!==[CREATION_TYPE_MOBILE_VIDEO,CREATION_TYPE_MOBILE_VIDEO_INTERACTIVE].indexOf(i.config.creationType)&&(n&&n.target===e.doc.displayContent||n&&n.target===e.player.view.gui.wrapper&&e.player.view.video.paused&&stkOpenWindow(e.tracking.redirect.lp[r],function(){}))}),Sataku.vdsDisplayOpen(i,e))),-1!==[CREATION_TYPE_RICH_DISPLAY,CREATION_TYPE_VIDEO_DISPLAY_LANDING_PAGE,CREATION_TYPE_MOBILE_ONEPAGE_PORTRAIT,CREATION_TYPE_MOBILE_ONEPAGE_LANDSCAPE,CREATION_TYPE_MOBILE_DISPLAY_COUNTER,CREATION_TYPE_MOBILE_MULTI_RECTANGLE,CREATION_TYPE_SARIGATO_IFRAME,CREATION_TYPE_MOBILE_SARIGATO_IFRAME,CREATION_TYPE_SCROLL,CREATION_TYPE_MOBILE_SCROLL,CREATION_TYPE_MOTION,CREATION_TYPE_MOBILE_MOTION,CREATION_TYPE_MOBILE_RICH_DISPLAY,CREATION_TYPE_VIDEO_LOOP,CREATION_TYPE_MOBILE_VIDEO_LOOP].indexOf(i.config.creationType)&&(a?(e.messenger.sendMsg("openPage",e.tracking.redirect.lp[r]),e.tracking.displayClick()):stkOpenWindow(e.tracking.redirect.lp[r],"_blank",function(){e.tracking.displayClick()}))}else stkOpenWindow(e.tracking.redirect.lp[r],"_blank",function(){e.tracking.displayClick()})},rvInit:function(){var n=!1,a=!1;i.config.rvVideoEnded=!1,e.player.setVideo(),e.doc.teaserWrapper.remove(),e.doc.playerWrapper.stkRemoveClass("disabled"),window.addEventListener("message",function(o){"inView"!=o.data||n||a?"outsideView"==o.data&&n&&a&&!i.config.rvVideoEnded?(a=!1,Sataku.rvViewOut(i,e)):"inView"!=o.data||!n||a||i.config.rvVideoEnded||(a=!0,Sataku.rvViewIn(i,e,!1)):(n=!0,a=!0,e.tracking.rvFirstInView(),Sataku.rvViewIn(i,e,!0))}),e.player.onVolumeChange=function(i){i?e.tracking.videoUnmute(e.player.version):e.tracking.videoMute(e.player.version)},e.player.view.video.addEventListener("ended",function(){i.config.rvVideoEnded=!0,e.tracking.endboard(),Sataku.rvEndboard(i,e)})},motionInit:function(){var n=1;i.config.displayVersion&&(n=i.config.displayVersion.id),window.enableLoaderFeature("scroll");var a=STK_MOTION_SEQUENCE_CONFIG["format_"+i.config.format]["displayVersion_"+n];if(void 0===a)return void e.debug.error("motionNoConfig",n);a.forEach(function(e){e._block=!1,e.elements=[].slice.call(document.querySelectorAll(e.selector)),e.lastIndex=0,e.elements.slice(1).forEach(function(e){e.style.opacity=0})}),window.addEventListener("message",function(n){if("flowPercent"==n.data.name){var o=n.data.values,r=n.data.screenHeight;a.forEach(function(a){var t=0,E=a.startAt/(r+window.innerHeight)*100,_=a.endAt/(r+window.innerHeight)*100,s=n.data;s.startPercent=E,s.endPercent=100-_,a.elements.length>0&&(o.outer<=E?t=0:o.outer>=100-_&&(t=a.elements.length-1),o.outer>E&&o.outer<100-_&&(t=Math.floor((o.outer-E)/((100-E-_)/a.elements.length)),a._block=!1),void 0===o.outer||a._block||(Sataku.onMotionAnimate(i,e,t,a,s),a.elements[a.lastIndex].style.opacity=0,a.elements[t].style.opacity=1,a.lastIndex=t),(o.outer<=0||o.outer>=100)&&(a._block=!0))})}})}},i={config:{},invoke:function(){e.setDependencies(),e.setupAndRun(),e.sendInfoToLoader(),e.tracking.getNewLinks(),i.config.place===RUN_MODE_DISPLAY?e.tracking.displayLoad():i.config.place===RUN_MODE_EXPAND&&(i.config.deviceType===DEVICE_TYPE_MOBILE&&ARE_SOCIALS_ACTIVE&&(document.stkQuery("#socials-wrapper",!1).style.display="block"),e.dwell.initialize()),e.debug.log("frameReady",i.config.deviceAlias,RUN_MODE_ALIASES[i.config.runMode],CREATION_TYPE_ALIASES[i.config.creationType])}};return i}();