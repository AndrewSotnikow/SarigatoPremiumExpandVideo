"use strict";var SatakuPixelHelper=function(){return function(t,n,i){var o={data:{firstInteraction:null,custom:[],smart:[],trackly:[]},tracking:n,maxNumberOfCustoms:5,defaults:{description:"",once:!1},debug:function(){var t="background-color: #000000; color: #dfdfdf;",n="color: #750202; background-color: #999; font-weight: bold; font-family: verdana, helvetica, arial, sans-serif; font-size: 14px;",i={leftPadding:t+" padding: 3px 0px 3px 8px;",rightPadding:t+" padding: 3px 8px 3px 0px;",noPadding:t+" padding: 3px 0px 3px 0px;",standout:"background-color: #000000; color: yellow; padding: 3px 0px 3px 0px; font-weight: bold;",errorLeftPadding:n+" padding: 3px 0px 3px 8px",errorRightPadding:n+" padding: 3px 8px 3px 0px",errorNoPadding:n+" padding: 3px 0px 3px 0px"},o=new SatakuLogger({log:{config:["{Pixel Helper} Final pixel data: %c%d%c customs, %c%d%c smart, %c%d%c trackly pixels:%c\n%o",i.leftPadding],pixelNotFoundLabel:["{Pixel Helper} Pixel with label %c%s not found",i.errorLeftPadding],pixelNotFound:["{Pixel Helper} Pixel %c%s not found",i.errorLeftPadding],noUrl:["{Pixel Helper} Initialization: %c%s config at index %c%d has no URL, config omitted",i.errorLeftPadding],tooManyCustoms:["{Pixel Helper} Initialization: Too many custom pixels given. Only first %c%d are taken into account, other %c%d are ignored",i.errorLeftPadding],mustBeArray:["{Pixel Helper} Initialization: %c%s config property must be an array",i.errorLeftPadding]}});return{config:function(t){var n=t.custom,r=t.smart,e=t.trackly;o.log("config",i.standout,n.length,i.noPadding,i.standout,r.length,i.noPadding,i.standout,e.length,i.rightPadding,"",t)},pixelNotFound:function(t,n){o.log("pixelNotFound"+(n?"Label":""),i.errorRightPadding,t)},noUrl:function(t,n){o.log("noUrl",i.errorNoPadding,t,i.errorRightPadding,n)},tooManyCustoms:function(t,n){o.log("tooManyCustoms",i.errorNoPadding,t,i.errorRightPadding,n)},mustBeArray:function(t){o.log("mustBeArray",i.errorRightPadding,t)}}}(),findConfigWithLabel:function(t){var n=!1,i=null;for(var r in o.data){if(!n&&o.data.hasOwnProperty(r)){var e=o.data[r];if(e&&e.length>0)for(var a=0;a<e.length;a++)if(e[a].label===t){i=e[a],n=!0;break}}if(n)break}return i},sendFirstInteraction:function(){if(o.data.firstInteraction&&o.data.firstInteraction.config){var t=o.data.firstInteraction.config;if(!t)return void o.debug.pixelNotFound("firstInteraction, type: "+t.type+", id:  "+t.id);o.send(t)}},send:function(t){if(!t.once||!t.sent){var n=t.type,i=t.url,r=t.pixelId,e=t.description,a=-1!==[window.MODE_DEVELOPER,window.MODE_PREVIEW].indexOf(window.SATAKU_MODE);DEBUG_MODE||("custom"===n&&r>=1&&r<=o.maxNumberOfCustoms?o.tracking.pixel(o.tracking.action.custom[r]):"custom"!==n&&o.tracking.pixel(i)),t.sent=!0;var d=n+" "+r;d=e&&""!==e?d+": "+e:d,d=i?d+", url: "+i:d,a&&console.log(d)}},setPixelConfigs:function(){var n=1;if(t&&void 0!==t.custom)if(Array.isArray(t.custom)){if(t.custom.length>o.maxNumberOfCustoms&&(r.silent||o.debug.tooManyCustoms(o.maxNumberOfCustoms,t.custom.length-o.maxNumberOfCustoms)),t.custom.length>0)for(var i=0;i<t.custom.length&&i<o.maxNumberOfCustoms;i++)o.data.custom.push({type:"custom",pixelId:n,description:void 0!==t.custom[i].description?String(t.custom[i].description):o.defaults.description,once:"boolean"==typeof t.custom[i].once?t.custom[i].once:o.defaults.once,label:String(t.custom[i].label),sent:!1}),n++}else r.silent||o.debug.mustBeArray("custom");for(var e=o.data.custom.length;e<o.maxNumberOfCustoms;e++)o.data.custom.push({type:"custom",pixelId:n,description:o.defaults.description,once:o.defaults.once,sent:!1}),n++;if(["smart","trackly"].forEach(function(n){var i=1;t&&void 0!==t[n]&&(Array.isArray(t[n])?t[n].forEach(function(t,e){if(!t||t&&!t.url)return void(r.silent||o.debug.noUrl(n,e));t&&o.data[n].push({type:n,pixelId:i,url:String(t.url),description:void 0!==t.description?String(t.description):o.defaults.description,once:"boolean"==typeof t.once?t.once:o.defaults.once,label:String(t.label),sent:!1}),i++}):r.silent||o.debug.mustBeArray(n))}),t&&void 0!==t.firstInteraction&&void 0!==t.firstInteraction.type&&-1!==["custom","trackly","smart"].indexOf(t.firstInteraction.type)&&void 0!==t.firstInteraction.id&&t.firstInteraction.id>=1){var a=void 0;"custom"===t.firstInteraction.type?a=o.data.custom[t.firstInteraction.id-1]:"smart"===t.firstInteraction.type?a=o.data.smart[t.firstInteraction.id-1]:"trackly"===t.firstInteraction.type&&(a=o.data.trackly[t.firstInteraction.id-1]),o.data.firstInteraction={type:t.firstInteraction.type,id:t.firstInteraction.id,config:a}}r.silent||o.debug.config(o.data)},init:function(){o.setPixelConfigs()}},r={silent:!1,getPixelData:function(){return o.data},custom:function(t){var n=o.data.custom[t-1];if(!n)return void o.debug.pixelNotFound("custom "+t);o.sendFirstInteraction(),o.send(n)},smart:function(t){var n=o.data.smart[t-1];if(!n)return void o.debug.pixelNotFound("smart "+t);o.sendFirstInteraction(),o.send(n)},trackly:function(t){var n=o.data.trackly[t-1];if(!n)return void o.debug.pixelNotFound("trackly "+t);o.send(n)},label:function(t){var n=o.findConfigWithLabel(t);if(!n)return void o.debug.pixelNotFound(t,!0);o.sendFirstInteraction(),o.send(n)}}.stkExt(i);return o.init(),r}}();