"use strict";var SatakuIframeBuilder=function(t,e,i){var a=this;return a.stkExt({satakuConfig:t,doc:e}).stkExt(i),a};SatakuIframeBuilder.prototype={attributes:{allowtransparency:"true",marginheight:"0px",marginwidth:"0px",frameborder:"0",scrolling:"no"},height:null,id:"display-content-iframe",iframe:null,removeVideoWrapper:!0,showCreateJSControls:!0,src:"media/display/index.html?version=0.0",width:null,init:function(){var t=this,e=t.satakuConfig.format,i=e.slice(0,e.indexOf("x")),a=e.slice(e.indexOf("x")+1,e.length);if(t.iframe=document.createElement("iframe"),Object.keys(t.attributes).forEach(function(e){t.iframe.setAttribute(e,t.attributes[e])}),t.iframe.id=t.id,t.iframe.stkStyleElement({position:"absolute",width:t.width||i+"px",height:t.height||a+"px"}),t.iframe.src=t.src,t.wrapper.appendChild(t.iframe),t.removeVideoWrapper&&t.doc.videoWrapper&&t.doc.videoWrapper.remove(),DEBUG_MODE&&t.showCreateJSControls){var n=document.createElement("div"),r=document.createElement("a"),o=document.createElement("a"),d=document.createTextNode("STOP"),s={background:"#E24244",color:"#fff",pointerEvents:"auto",fontFamily:"sans-serif",fontSize:"15px",textAlign:"center",textDecoration:"none",verticalAlign:"middle",lineHeight:"40px",boxSizing:"border-box",border:"1px solid #000"};n.stkStyleElement({position:"absolute",width:"120px",height:"40px",top:"auto",bottom:"0",left:"50%",transform:"translateX(-50%)",pointerEvents:"auto"}),r.stkStyleElement({position:"absolute",width:"60px",height:"40px"}.stkExt(s)),o.stkStyleElement({position:"absolute",width:"61px",height:"40px",left:"59px"}.stkExt(s));var l=function(){var i=void 0,a=void 0;if(i=t.iframe.contentWindow,i&&!a&&(a=i.stage),a){var n=a.canvas.toDataURL("image/jpeg",.7);o.setAttribute("download",e+".jpg"),o.setAttribute("href",n)}},p=!0,c=function(){var e=void 0,i=void 0;e=t.iframe.contentWindow,e&&!i&&(i=e.stage),i&&(p?(e.stage.tickEnabled=!1,d.textContent="PLAY"):(e.stage.tickEnabled=!0,d.textContent="STOP")),p=!p};n.addEventListener("click",function(t){t.stopPropagation(),t.target==r&&c(),t.target==o&&l()}),o.appendChild(document.createTextNode("SNAP")),n.appendChild(o),r.appendChild(d),n.appendChild(r),t.wrapper.appendChild(n)}}};